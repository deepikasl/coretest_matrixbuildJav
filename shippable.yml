language: java

jdk:
  - openjdk8
  #- openjdk7    
  - oraclejdk7 
  
git:
   submodules: false
matrix:
#include this version with the env 
  include:               
    - jdk: openjdk7
      env: foo=fubu
         
#excludes this version 
  exclude:             
    - jdk: oraclejdk8
      env:
        - env=test1 
#allows failure for this version
  allow_failures:
    - jdk: oraclejdk7 

build:
  #advancedReporting: true   #by default adavanced reporting is true
  ci:
    # Create folders for test and code coverage
    - mkdir -p shippable/codecoverage
    - mvn install
    #- java -version
    - cp -r target shippable/codecoverage
    - docker ps
    - if [ "$SHIPPABLE_JDK_VERSION" == "oraclejdk7" ]; then foobar; fi # to make oraclejdk7 fail and this version allows allow_failure
    - lsb_release -a
    - docker --version
    - docker info
    
    
integrations:    
  notifications:
    - integrationName: email         
      type: email        
      recipients: 
        - deepika@shippable.com
      sendLogsInEmail: true
      
    
  
      
